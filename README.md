# 학랭 (Haklang)

학랭은 한국어 기반의 Esolang(난해한 프로그래밍 언어)입니다.

## 파일 확장자
`.lhb`

## 시작
모든 코드는 `학범`으로 시작해야 합니다.

## 문법

### 1. 출력
- **줄바꿈 없는 출력**:
  - 문자열: `("문자열")<쿰척`
  - 변수: `('변수명')<쿰척`
  - 혼합: `("문자열"쿰척'변수명')<쿰척`
- **줄바꿈 있는 출력**:
  - `("내용")쿰척<쿰척`

### 디버그 출력
- **데이비드(expr)**: 표현식을 평가한 결과를 표준 출력으로 디버그 목적으로 출력합니다. 출력은 평가한 식과 함께 값이 보여집니다.

예제:
```
데이비드('변수'하악범5)  # [디버그] '변수'하악범5 = 35
```

### 특수 실행 제어 — 쿰쳑쿰쳑
- **쿰쳑쿰쳑<구문>**: 괄호 안의 구문을 즉시 두 번 실행합니다. `쿰쳑쿰쳑`만 별도 라인에 적으면 그 다음 실제 명령을 두 번 실행하도록 설정할 수 있습니다.

예제:
```
쿰쳑쿰쳑("헬로"쿰척)  # 같은 출력 명령을 두 번 실행
쿰쳑쿰쳑
("헬로"쿰척)  # 다음 라인을 두 번 실행
```

### 2. 입력
- **키보드 입력 (줄바꿈 없음)**: `쿰척<()`
- **키보드 입력 (줄바꿈 있음)**: `쿰척<쿰척()`
- **변수에 입력 저장**: `쿰척<(변수명)` — 입력한 값을 변수 타입에 맞게 변환하여 저장합니다. (예: `쿰척<(몸무게)`)

### 5. 문자열 / 리스트
- **문자열 변수**: `{BMI}[변수명]` — 문자열 변수 선언. 예: `{BMI}[이름]`
- **리스트 변수**: `{BMI[30.7]}[리스트명]` —  리스트를 선언할 수 있습니다. 괄호 안 타입은 기존 숫자 타입 표기(BMI30, BMI30.7, BMI30.7ㅋㅋ)에서 가져옵니다. 예:
  - `{BMI[30]}`: 정수 리스트
  - `{BMI[30.7]}`: 소수 7자리 리스트
  - `{BMI[30.7ㅋㅋ]}`: 소수 15자리 리스트

### 6. 리스트 값 대입 및 출력
- **리스트 값 대입**: `[리스트명]쿰척<"[값1,값2,값3]"` — 값들을 배열 형태로 문자열 안에 넣어 대입합니다.
- **리스트 값 출력**: `[리스트명]쿰척[번호]` — 1-based 인덱스. 예: `[숫자리스트]쿰척[2]`는 2번째 값을 출력합니다.
- **리스트 초기화**: `간장먹고[리스트명]치기` — 리스트의 모든 요소를 제거하여 빈 리스트로 만듭니다.

### 리스트 정렬
- **미추홀구[리스트명]**: 해당 리스트를 오름차순 정렬합니다.
- **용현동[리스트명]**: 해당 리스트를 내림차순 정렬합니다.

예제:
```
{BMI[30]}[숫자리스트]
[숫자리스트]쿰척<"[3,1,2]"
미추홀구[숫자리스트]
("오름차순: "쿰척'[숫자리스트]')쿰척<쿰척
용현동[숫자리스트]
("내림차순: "쿰척'[숫자리스트]')쿰척<쿰척
```

### 3. 변수 선언
**정수**: `{BMI30}[변수명]` — 초기값: 30
**유리수 (소수점 7자리)**: `{BMI30.7}[변수명]` — 초기값: 30.7
**유리수 (소수점 15자리)**: `{BMI30.7ㅋㅋ}[변수명]` — 초기값: 30.7

### 4. 변수 값 증감 연산
변수의 값을 증가시키거나 감소시킬 수 있습니다:

#### 증가 연산
- `[변수명]꿀꺽<밥`: +1
- `[변수명]꿀꺽<빵`: +0.1
- `[변수명]꿀꺽<고기`: +0.01
- `[변수명]꿀꺽<고기고기`: +0.001
- `[변수명]꿀꺽<고기고기고기`: +0.0001
- (고기를 반복할수록 0.1씩 감소하는 패턴, 최대 15자리까지)

#### 감소 연산
- `[변수명]꿀꺽<야채`: -1
- `[변수명]꿀꺽<설사약`: -0.1
- `[변수명]꿀꺽<포자빵`: -0.01
- `[변수명]꿀꺽<포자빵포자빵`: -0.001
- `[변수명]꿀꺽<포자빵포자빵포자빵`: -0.0001
- (포자빵을 반복할수록 0.1씩 감소하는 패턴, 최대 15자리까지)

#### 변수 초기화
- `간장먹고[변수명]치기`: 변수를 초기값으로 리셋
  - 정수: 30
  - 유리수: 30.7
  - 문자열: ""
  - 리스트: []

### 스택 연산 (아빠와 나)
- **아빠와나[변수명]**: 변수의 현재 값을 내부 스택에 push 합니다.
- **아빠와 나[변수명]**: 스택에서 값을 pop 하여 지정한 변수에 저장합니다 (간단한 타입 추론 포함).

예제:
```
{BMI30}[a]
{BMI30}[b]
[a]꿀꺽<밥  # a = 31
아빠와나[a]  # 스택에 a 값 저장
간장먹고[a]치기  # a 초기화
아빠와 나[a]  # 스택에서 값을 꺼내 a에 저장
```

## 예제 코드
```
학범
{BMI30}[나이]
{BMI30.7}[키]

# 나이에 밥 5번 (30 + 5 = 35)
[나이]꿀꺽<밥
[나이]꿀꺽<밥
[나이]꿀꺽<밥
[나이]꿀꺽<밥
[나이]꿀꺽<밥

# 키에 빵 추가 (30.7 + 0.1 = 30.8)
[키]꿀꺽<빵

("나이: "쿰척'나이')쿰척<쿰척
("키: "쿰척'키')쿰척<쿰척

# 초기화
간장먹고[나이]치기
("초기화된 나이: "쿰척'나이')쿰척<쿰척
```

## 실행 방법
```bash
python interpreter.py test.lhb
```

## 제어 구조

### for문
```
그챼(<초기화>그챼<조건식>그챼<진행>)그챼
학
    <구문>
학
```
예제:
```
{BMI30}[i]
간장먹고[i]치기  # i = 30으로 초기화
그챼([i]꿀꺽<야채그챼'i'홀쪽25그챼[i]꿀꺽<야채)그챼
학
    ("i = "쿰척'i')쿰척<쿰척
학
```

### while문
```
나살뺄거야(<조건>)
5분
    <구문>
귤한봉지
```
예제:
```
{BMI30}[j]
간장먹고[j]치기  # j = 30으로 초기화
나살뺄거야('j'비만33)
5분
    ("j = "쿰척'j')쿰척<쿰척
    [j]꿀꺽<밥
귤한봉지
```

### if문
```
비만인가[조건]알아보자
학범이는비만임
    <구문>
학

학범이는비만일수도있음[조건]
학
    <구문>
학

학범이는비만이아님
학
    <구문>
학
```

예제:
```
{BMI30}[점수]
# 점수 = 30에서 시작
[점수]꿀꺽<밥
[점수]꿀꺽<밥
[점수]꿀꺽<밥
[점수]꿀꺽<밥
[점수]꿀꺽<밥  # 35점

비만인가['점수'홀쪽정상90]알아보자
학범이는비만임
("A등급")쿰척<쿰척
학

학범이는비만일수도있음['점수'홀쪽정상80]
학
("B등급")쿰척<쿰척
학

학범이는비만이아님
학
("C등급 이하")쿰척<쿰척
학
```

### break문
- 루프 종료: `몸무게0.1톤`

### 불린 리터럴
- **True**: `야오루폐`
- **False**: `야조깜베`

### 비교 연산자
학랭은 한국어 키워드를 사용한 비교 연산자를 지원합니다:
- **비만**: 작다 (<)
- **홀쪭**: 크다 (>)
- **정상**: 같다 (==)
- **비만정상**: 작거나 같다 (<=)
- **홀쪭정상**: 크거나 같다 (>=)

변수 참조는 작은따옴표로 감싸서 사용합니다.

예제:
```
비만인가['i'비만5]알아보자
학범이는비만임
("i는 5보다 작음")쿰척<쿰척
학
```

### 조건식
- 변수 참조는 작은따옴표로: `'변수명'`
- 예: `'i'비만5`, `'j'홀쪭정상10`

#### 논리 조합 연산
- **야 오루페**: OR 연산자 — 조건식에서 좌우를 OR로 결합합니다.
- **야 조깜베**: AND 연산자 — 조건식에서 좌우를 AND로 결합합니다.

예제:
```
비만인가['a'비만5 야 오루페 'b'비만10]알아보자
학범이는비만임
    ("a가 5보다 작거나 b가 10보다 작음")쿰척<쿰척
학
```

### 산술 연산
학랭은 한국어 키워드를 사용한 연산자를 지원합니다:
- **하악범**: 덧셈 (+)
- **하악버엄**: 뺄셈 (-)
- **학범비만**: 곱셈 (*)
- **비만학범**: 나눗셈 (/)
- **비이만하악범**: 거듭제곱 (^)

변수 이름을 작은따옴표로 감싸서 사용합니다.
예제:
```
{BMI30}[a]
{BMI30}[b]
{BMI30}[결과]
간장먹고[a]치기  # a = 30
간장먹고[b]치기  # b = 30
[a]꿀꺽<밥
[a]꿀꺽<밥  # a = 32
[결과]꿀꺽<"'a'하악범'b'"
("32 + 30 = "쿰척'결과')쿰척<쿰척
```

### 추가 표현식 연산
- **루피 함 안아보자**: 문자열이나 리스트를 연결(concatenate)합니다. 양쪽이 리스트이면 리스트를 이어붙이고, 그렇지 않으면 문자열로 변환해 이어붙입니다.
- **남자 중의 남자**: 두 숫자 중 큰 값을 반환합니다.
- **이학범<표현식>**: 단항 연산자 — 숫자는 부호를 반전, 문자열/리스트는 순서를 뒤집고, 불린은 not 처리합니다.

예제:
```
'abc'루피 함 안아보자'123'  # 'abc123'
[1,2]루피 함 안아보자[3,4]  # [1,2,3,4]
5남자 중의 남자3  # 5
이학범-7  # 7 (부호 반전)
이학범"abc"  # "cba" (문자열 뒤집기)
```

## 함수

### 함수 정의
```
[함수이름]미쉥물 연료[매개변수1,매개변수2]전줴
학
    <구문>
    꺼억<반환값>
학
```

### 함수 호출
```
[함수이름]('인자1','인자2')
```

예제:
```
[더하기]미쉥물 연료[a,b]전줴
학
    {BMI30}[결과]
    [결과]꿀꺽<"'a'하악범'b'"
    꺼억'결과'
학

{BMI30}[x]
{BMI30}[y]
간장먹고[x]치기  # x = 30
간장먹고[y]치기  # y = 30
[x]꿀꺽<밥
[x]꿀꺽<밥  # x = 32
[더하기]('x','y')
```

### 지연된 함수 호출
- **[함수명]미쉥물 연료 젼줴(인자들)**: 해당 함수 호출을 지연시켜 프로그램(메인 실행)이 끝난 뒤에 호출합니다. 인터프리터는 실행 종료 시점에 모아둔 지연 호출들을 순서대로 실행합니다.

예제:
```
[인사]미쉥물 연료[]전줴
학
    ("나중에 인사할게")쿰척<쿰척
학

[인사]미쉥물 연료()  # 프로그램 종료 후 실행됨
```

### return문
- 함수에서 값 반환: `꺼억<값>` 또는 `꺼억'변수'`

## 특수 문법 (랜덤 값)

### 포자 - 변수에 랜덤 값 입력
```
포자[변수명]
```
지정한 변수에 랜덤 값을 할당합니다. 값의 범위는 변수 타입에 따라 결정됩니다:
- 정수: -1000 ~ 1000
- 실수: -1000.0 ~ 1000.0
- 문자열: 랜덤 한국어 단어
- 리스트: 3~5개의 랜덤 요소

### 포자빵 - 모든 변수에 랜덤 값 입력
```
포자빵
```
보호되지 않은 모든 변수에 랜덤 값을 할당합니다.

### 포자맨 - 랜덤 값으로부터 보호
```
{BMI30}[변수명]포자맨
```
변수 선언 시 `포자맨`을 붙이면 해당 변수는 `포자`와 `포자빵` 명령으로부터 보호됩니다.

예제:
```
학범
{BMI30}[보호]포자맨
{BMI30}[일반]
# 보호 = 30, 일반 = 30 (초기값)
[보호]꿀꺽<밥
[보호]꿀꺽<밥  # 보호 = 32
[일반]꿀꺽<밥  # 일반 = 31

포자빵  # 일반 변수만 변경됨
("보호 = "쿰척'보호')쿰척<쿰척  # 32 유지
("일반 = "쿰척'일반')쿰척<쿰척  # 랜덤 값
```

### 주석
- 한 줄 주석: `저 쿰쳑 안먹었는데요`로 시작하는 줄은 주석으로 취급됩니다. 해당 줄의 나머지는 무시됩니다.

예제:
```
저 쿰쳑 안먹었는데요 이 줄은 주석입니다
```

### 시간 지연
- **시간먹기(expr)**: 표현식을 평가하여 나온 초 단위(숫자)만큼 실행을 일시중지합니다.

예제:
```
시간먹기(1.5)  # 1.5초 멈춤
```

## 오류 처리
- 인터프리터는 실행 중 심각한 오류(알 수 없는 구문, 정의되지 않은 변수 사용, 타입 불일치 등)가 발생하면 즉시 프로그램을 종료합니다. 오류 메시지는 발생한 파일의 줄 번호와 함께 출력됩니다.
